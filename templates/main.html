<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Mainpage</title>
   
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">    
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<style>
    .bs-example{
        margin: 20px;        
    }
    
    .myButton {
	box-shadow:inset 0px 1px 0px 0px #bbdaf7;
	background:linear-gradient(to bottom, #79bbff 5%, #378de5 100%);
	background-color:#79bbff;
	border-radius:6px;
	border:1px solid #84bbf3;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:15px;
	font-weight:bold;
	padding:6px 24px;
	text-decoration:none;
	text-shadow:0px 1px 0px #528ecc;    
    margin-left: 87%;
    margin-top: 1%;
}
.myButton:hover {
	background:linear-gradient(to bottom, #378de5 5%, #79bbff 100%);
	background-color:#378de5;
}
.myButton:active {
	position:relative;
	top:1px;
}
</style>
</head>
<body>

<header>
<div class="bg-warning py-2" style="font-size: 40px; text-align: center"> 
 Donation Website
</div>

<nav id="navbar_top" class="navbar navbar-expand-lg navbar-dark bg-primary">
 <div class="container">
 	 <a class="navbar-brand" href="#">Profile</a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#main_nav">
      <span class="navbar-toggler-icon"></span>
    </button>
  <div class="collapse navbar-collapse" id="main_nav">
	<ul class="navbar-nav ms-auto">
		<li class="nav-item"><a class="nav-link" href="#"> Menu item </a></li>
		<li class="nav-item"><a class="nav-link" href="#"> Menu item </a></li>
    <li class="nav-item"><a class="nav-link" href="#"> Menu item </a></li>
	</ul>
  </div> <!-- navbar-collapse.// -->
 </div> <!-- container-fluid.// -->
</nav>
</header>

<br>

<div>
    <form method="post" action="{{url_for('search')}}">
     <div>    
    {% if keyword %}
        <input type="text" name="keyvalue" value={{keyword}} class="form-control" style="width: 91%; margin-left: 4%" required>
    {% else %}
        <input type="text" name="keyvalue" class="form-control" style="width: 91%; margin-left: 4%" required>
    {% endif %}
    </div>
    <div>    
    <button type="submit" class="myButton">search</button>
    </div>
    </form>    
</div>
    
<div class="dropdown" style="margin-left: 78%; top: 0%; position: absolute; margin-top: 16.3%">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">sort by
    <span class="caret"></span></button>
    <ul class="dropdown-menu">
      <li><a href="{{ url_for('main')}}">none</a></li>        
      <li><a href="{{ url_for('sort',sort_id=1) }}">old_to_new</a></li>
      <li><a href="{{ url_for('sort',sort_id=2) }}">new_to_old</a></li>
      <li><a href="{{ url_for('sort',sort_id=3) }}">high_upvotes</a></li>
      <li><a href="{{ url_for('sort',sort_id=4) }}">low_upvotes</a></li>
    </ul>
</div>

<br>    
    
{% if keylen %}
<div style="margin-left: 5%">
<h3>
Results found : {{keylen}}
</h3>
</div>
{% endif %}
    
<div class="bs-example">
    <div class="container-fluid">
        <div class="row">
            {% for i in range(length) %}
            <div class="card-deck" style="width: 300px; margin-left: 10px; margin-top: 20px">
                <div class="card">
                    <img src="{{data[i]}}" class="card-img-top" alt="..." style="width: 269px;height: 200px;">
                    <div class="card-body">
                        <a href="{{ url_for('problem',problem_id=prob_id[i]) }}">
                        <h5 class="card-title">{{head[i]}}</h5>
                        <p class="card-text">{{det[i]}}</p>
                        </a>
                    </div>
                    <div class="card-footer">
                        <small class="text-muted">created : {{dates[i]}}</small>
                    </div>
                </div>
            </div>
            <br>
            {% endfor %}
        </div>
        
    </div>
</div>
</body>
    <script>
        document.addEventListener("DOMContentLoaded", function(){
  window.addEventListener('scroll', function() {
      if (window.scrollY > 50) {
        document.getElementById('navbar_top').classList.add('fixed-top');
        // add padding top to show content behind navbar
        navbar_height = document.querySelector('.navbar').offsetHeight;
        document.body.style.paddingTop = navbar_height + 'px';
      } else {
        document.getElementById('navbar_top').classList.remove('fixed-top');
         // remove padding top from body
        document.body.style.paddingTop = '0';
      } 
  });
}); 
    </script>
</html>